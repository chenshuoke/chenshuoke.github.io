<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="第十四章 自定义shell提示符, 孤狼的博客">
    <meta name="description" content="In this chapter we will look at a seemingly trivial detail — our shell prompt. This examination will reveal some of the ">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>第十四章 自定义shell提示符 | 孤狼的博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    
    <!-- 下面一句添加的 -->
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">孤狼的博客</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">孤狼的博客</div>
        <div class="logo-desc">
            
            从来没有真正的绝境，只有心灵的迷途
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/chenshuoke" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/chenshuoke" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>





<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/7.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        第十四章 自定义shell提示符
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/TLCL/" class="post-category" target="_blank">
                                TLCL
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2019-07-15
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        5.2k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        24 分
                    </div>
                    
                
				
				
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>In this chapter we will look at a seemingly trivial detail — our shell prompt. This examination will reveal some of the inner workings of the shell and the terminal emulator program itself.</p>
<p>在这一章中，我们将会看一下表面上看来很琐碎的细节－shell 提示符。但这会揭示一些 shell 和 终端仿真器的内部工作方式。</p>
<p>Like so many things in Linux, the shell prompt is highly configurable, and while we have pretty much taken it for granted, the prompt is a really useful device once we learn how to control it.</p>
<p>和 Linux 内的许多程序一样，shell 提示符是可高度配置的，虽然我们把它相当多地看作是理所当然的， 但是我们一旦学会了怎样控制它，shell 提示符是一个相当有用的工具。</p>
<p>Anatomy Of A Prompt</p>
<h3 id="解剖一个提示符"><a href="#解剖一个提示符" class="headerlink" title="解剖一个提示符"></a>解剖一个提示符</h3><p>Our default prompt looks something like this:</p>
<p>我们默认的提示符看起来像这样：</p>
<pre><code>[me@linuxbox ~]$</code></pre><p>Notice that it contains our user name, our host name and our current working directory, but how did it get that way? Very simply, it turns out. The prompt is defined by an environment variable named PS1 (short for “prompt string one”). We can view the contents of PS1 with the echo command:</p>
<p>注意它包含我们的用户名，主机名和当前工作目录，但是它又是怎样得到这些东西的呢？ 结果证明非常简单。提示符是由一个环境变量定义的，叫做 PS1（是“prompt string one” 的简写）。我们可以通过 echo 命令来查看 PS1的内容。</p>
<pre><code>[me@linuxbox ~]$ echo $PS1
[\u@\h \W]\$</code></pre><hr>
<p>Note: Don’t worry if your results are not exactly the same as the example above. Every Linux distribution defines the prompt string a little differently, some quite exotically.</p>
<p>注意：如果你 shell 提示符的内容和上例不是一模一样，也不必担心。每个 Linux 发行版 定义的提示符稍微有点不同，其中一些相当异于寻常。</p>
<hr>
<p>From the results, we can see that PS1 contains a few of the characters we see in our prompt such as the brackets, the at-sign, and the dollar sign, but the rest are a mystery. The astute among us will recognize these as backslash-escaped special characters like those we saw in Chapter 8. Here is a partial list of the characters that the shell treats specially in the prompt string:</p>
<p>从输出结果中，我们看到那个 PS1 环境变量包含一些这样的字符，比方说中括号，@符号，和美元符号， 但是剩余部分就是个谜。我们中一些机敏的人会把这些看作是由反斜杠转义的特殊字符，就像我们 在第八章中看到的一样。这里是一部分字符列表，在提示符中 shell 会特殊对待这些字符：</p>
<table>
<thead>
<tr>
<th align="left">Sequence</th>
<th align="left">Value Displayed</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\a</td>
<td align="left">ASCII bell. This makes the computer beep when it is encountered.</td>
</tr>
<tr>
<td align="left">\d</td>
<td align="left">Current date in day, month, date format. For example, “Mon May 26.”</td>
</tr>
<tr>
<td align="left">\h</td>
<td align="left">Host name of the local machine minus the trailing domain name.</td>
</tr>
<tr>
<td align="left">\H</td>
<td align="left">Full host name.</td>
</tr>
<tr>
<td align="left">\j</td>
<td align="left">Number of jobs running in the current shell session.</td>
</tr>
<tr>
<td align="left">\l</td>
<td align="left">Name of the current terminal device.</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">A newline character.</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">A carriage return.</td>
</tr>
<tr>
<td align="left">\s</td>
<td align="left">Name of the shell program.</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">Current time in 24 hour hours:minutes:seconds format.</td>
</tr>
<tr>
<td align="left">\T</td>
<td align="left">Current time in 12 hour format.</td>
</tr>
<tr>
<td align="left">@</td>
<td align="left">Current time in 12 hour AM/PM format.</td>
</tr>
<tr>
<td align="left">\A</td>
<td align="left">Current time in 24 hour hours:minutes format.</td>
</tr>
<tr>
<td align="left">\u</td>
<td align="left">User name of the current user.</td>
</tr>
<tr>
<td align="left">\v</td>
<td align="left">Version number of the shell.</td>
</tr>
<tr>
<td align="left">\V</td>
<td align="left">Version and release numbers of the shell.</td>
</tr>
<tr>
<td align="left">\w</td>
<td align="left">Name of the current working directory.</td>
</tr>
<tr>
<td align="left">\W</td>
<td align="left">Last part of the current working directory name.</td>
</tr>
<tr>
<td align="left">!</td>
<td align="left">History number of the current command.</td>
</tr>
<tr>
<td align="left">#</td>
<td align="left">Number of commands entered into this shell session.</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">This displays a “$” character unless you have superuser privileges. In that case, it displays a “#” instead.</td>
</tr>
<tr>
<td align="left">[</td>
<td align="left">Signals the start of a series of one or more non-printing characters. This is used to embed non-printing control characters which manipulate the terminal emulator in some way, such as moving the cursor or changing text colors.</td>
</tr>
<tr>
<td align="left">]</td>
<td align="left">Signals the end of a non-printing character sequence.</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">序列</th>
<th align="left">显示值</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\a</td>
<td align="left">以 ASCII 格式编码的铃声 . 当遇到这个转义序列时，计算机会发出嗡嗡的响声。</td>
</tr>
<tr>
<td align="left">\d</td>
<td align="left">以日，月，天格式来表示当前日期。例如，“Mon May 26.”</td>
</tr>
<tr>
<td align="left">\h</td>
<td align="left">本地机的主机名，但不带末尾的域名。</td>
</tr>
<tr>
<td align="left">\H</td>
<td align="left">完整的主机名。</td>
</tr>
<tr>
<td align="left">\j</td>
<td align="left">运行在当前 shell 会话中的工作数。</td>
</tr>
<tr>
<td align="left">\l</td>
<td align="left">当前终端设备名。</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">一个换行符。</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">一个回车符。</td>
</tr>
<tr>
<td align="left">\s</td>
<td align="left">shell 程序名。</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">以24小时制，hours:minutes:seconds 的格式表示当前时间.</td>
</tr>
<tr>
<td align="left">\T</td>
<td align="left">以12小时制表示当前时间。</td>
</tr>
<tr>
<td align="left">@</td>
<td align="left">以12小时制，AM/PM 格式来表示当前时间。</td>
</tr>
<tr>
<td align="left">\A</td>
<td align="left">以24小时制，hours:minutes 格式表示当前时间。</td>
</tr>
<tr>
<td align="left">\u</td>
<td align="left">当前用户名。</td>
</tr>
<tr>
<td align="left">\v</td>
<td align="left">shell 程序的版本号。</td>
</tr>
<tr>
<td align="left">\V</td>
<td align="left">Version and release numbers of the shell.</td>
</tr>
<tr>
<td align="left">\w</td>
<td align="left">当前工作目录名。</td>
</tr>
<tr>
<td align="left">\W</td>
<td align="left">当前工作目录名的最后部分。</td>
</tr>
<tr>
<td align="left">!</td>
<td align="left">当前命令的历史号。</td>
</tr>
<tr>
<td align="left">#</td>
<td align="left">当前 shell 会话中的命令数。</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">这会显示一个”$”字符，除非你拥有超级用户权限。在那种情况下， 它会显示一个”#”字符。</td>
</tr>
<tr>
<td align="left">[</td>
<td align="left">标志着一系列一个或多个非打印字符的开始。这被用来嵌入非打印 的控制字符，这些字符以某种方式来操作终端仿真器，比方说移动光标或者是更改文本颜色。</td>
</tr>
<tr>
<td align="left">]</td>
<td align="left">标志着非打印字符序列结束。</td>
</tr>
</tbody></table>
<p>Trying Some Alternate Prompt Designs</p>
<h3 id="试试一些可替代的提示符设计"><a href="#试试一些可替代的提示符设计" class="headerlink" title="试试一些可替代的提示符设计"></a>试试一些可替代的提示符设计</h3><p>With this list of special characters, we can change the prompt to see the effect. First, we’ll back up the existing string so we can restore it later. To do this, we will copy the existing string into another shell variable that we create ourselves:</p>
<p>参照这个特殊字符列表，我们可以更改提示符来看一下效果。首先， 我们把原来提示符字符串的内容备份一下，以备之后恢复原貌。为了完成备份， 我们把已有的字符串复制到另一个 shell 变量中，这个变量是我们自己创造的。</p>
<pre><code>[me@linuxbox ~]$ ps1_old=&quot;$PS1&quot;</code></pre><p>We create a new variable called ps1_old and assign the value of PS1 to it. We can verify that the string has been copied with the echo command:</p>
<p>我们新创建了一个叫做 ps1_old 的变量，并把变量 PS1的值赋 ps1_old。通过 echo 命令可以证明 我们的确复制了 PS1的值。</p>
<pre><code>[me@linuxbox ~]$ echo $ps1_old
[\u@\h \W]\$</code></pre><p>We can restore the original prompt at any time during our terminal session by simply reversing the process:</p>
<p>在终端会话中，我们能在任一时间复原提示符，只要简单地反向操作就可以了。</p>
<pre><code>[me@linuxbox ~]$ PS1=&quot;$ps1_old&quot;</code></pre><p>Now that we are ready to proceed, let’s see what happens if we have an empty prompt string:</p>
<p>现在，我们准备开始，让我们看看如果有一个空的字符串会发生什么：</p>
<pre><code>[me@linuxbox ~]$ PS1=</code></pre><p>If we assign nothing to the prompt string, we get nothing. No prompt string at all! The prompt is still there, but displays nothing, just as we asked it to. Since this is kind of disconcerting to look at, we’ll replace it with a minimal prompt:</p>
<p>如果我们没有给提示字符串赋值，那么我们什么也得不到。根本没有提示字符串！提示符仍然在那里， 但是什么也不显示，正如我们所要求的那样。我们将用一个最小的提示符来代替它：</p>
<pre><code>PS1=&quot;\$ &quot;</code></pre><p>That’s better. At least now we can see what we are doing. Notice the trailing space within the double quotes. This provides the space between the dollar sign and the cursor when the prompt is displayed.</p>
<p>这样要好一些。至少能看到我们在做什么。注意双引号中末尾的空格。当提示符显示的时候， 这个空格把美元符号和光标分离开。</p>
<p>Let’s add a bell to our prompt:</p>
<p>在提示符中添加一个响铃：</p>
<pre><code>$ PS1=&quot;\a\$ &quot;</code></pre><p>Now we should hear a beep each time the prompt is displayed. This could get annoying, but it might be useful if we needed notification when an especially long-running command has been executed.</p>
<p>现在每次提示符显示的时候，我们应该能听到嗡嗡声。这会变得很烦人，但是它可能会 很有用，特别是当一个需要运行很长时间的命令执行完后，我们要得到通知。</p>
<p>Next, let’s try to make an informative prompt with some host name and time-of-day information:</p>
<p>下一步，让我们试着创建一个信息丰富的提示符，包含主机名和当天时间的信息。</p>
<pre><code>$ PS1=&quot;\A \h \$ &quot;
17:33 linuxbox $
</code></pre><p>Try out the other sequences listed in the table above and see if you can come up with a brilliant new prompt.</p>
<p>试试其他上表中列出的转义序列，看看你能否想出精彩的新提示符。</p>
<p>Adding Color</p>
<h3 id="添加颜色"><a href="#添加颜色" class="headerlink" title="添加颜色"></a>添加颜色</h3><p>Most terminal emulator programs respond to certain non-printing character sequences to control such things as character attributes (like color, bold text and the dreaded blinking text) and cursor position. We’ll cover cursor position in a little bit, but first we’ll look at color.</p>
<p>大多数终端仿真器程序支持一定的非打印字符序列来控制，比方说字符属性（像颜色，黑体和可怕的闪烁） 和光标位置。我们会更深入地讨论光标位置，但首先我们要看一下字体颜色。</p>
<blockquote>
<p>Terminal Confusion</p>
<p>混乱的终端时代</p>
<p>Back in ancient times, when terminals were hooked to remote computers, there were many competing brands of terminals and they all worked differently. They had different keyboards and they all had different ways of interpreting control information. Unix and Unix-like systems have two rather complex subsystems to deal with the babel of terminal control (called termcap and terminfo). If you look in the deepest recesses of your terminal emulator settings you may find a setting for the type of terminal emulation.</p>
<p>回溯到终端连接到远端计算机的时代，有许多竞争的终端品牌，它们各自工作不同。 它们有着不同的键盘，以不同的方式来解释控制信息。Unix 和类 Unix 的系统有两个 相当复杂的子系统来处理终端控制领域的混乱局面（称为 termcap 和 terminfo）。如果你 查看一下终端仿真器最底层的属性设置，可能会找到一个关于终端仿真器类型的设置。</p>
<p>In an effort to make terminals speak some sort of common language, the American National Standards Institute (ANSI) developed a standard set of character sequences to control video terminals. Old time DOS users will remember the ANSI.SYS file that was used to enable interpretation of these codes.</p>
<p>为了努力使所有的终端都讲某种通用语言，美国国家标准委员会（ANSI）制定了 一套标准的字符序列集合来控制视频终端。原先 DOS 用户会记得 ANSI.SYS 文件， 这是一个用来使这些编码解释生效的文件。</p>
</blockquote>
<p>Character color is controlled by sending the terminal emulator an ANSI escape code embedded in the stream of characters to be displayed. The control code does not “print out” on the display, rather it is interpreted by the terminal as an instruction. As we saw in the table above, the [ and ] sequences are used to encapsulate non-printing characters. An ANSI escape code begins with an octal 033 (the code generated by the escape key) followed by an optional character attribute followed by an instruction. For example, the code to set the text color to normal (attribute = 0), black text is:</p>
<p>字符颜色是由发送到终端仿真器的一个嵌入到了要显示的字符流中的 ANSI 转义编码来控制的。 这个控制编码不会“打印”到屏幕上，而是被终端解释为一个指令。正如我们在上表看到的字符序列， 这个 [ 和 ] 序列被用来封装这些非打印字符。一个 ANSI 转义编码以一个八进制033（这个编码是由 退出按键产生的）开头，其后跟着一个可选的字符属性，在之后是一个指令。例如，把文本颜色 设为正常（attribute = 0），黑色文本的编码如下：</p>
<pre><code>\033[0;30m
</code></pre><p>Here is a table of available text colors. Notice that the colors are divided into two groups, differentiated by the application of the bold character attribute (1) which creates the appearance of “light” colors:</p>
<p>这里是一个可用的文本颜色列表。注意这些颜色被分为两组，由应用程序粗体字符属性（1） 分化开来，这个属性可以描绘出“浅”色文本。</p>
<table>
<thead>
<tr>
<th align="left">Sequence</th>
<th align="left">Text Color</th>
<th align="left">Sequence</th>
<th align="left">Text Color</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\033[0;30m</td>
<td align="left">Black</td>
<td align="left">\033[1;30m</td>
<td align="left">Dark Gray</td>
</tr>
<tr>
<td align="left">\033[0;31m</td>
<td align="left">Red</td>
<td align="left">\033[1;31m</td>
<td align="left">Light Red</td>
</tr>
<tr>
<td align="left">\033[0;32m</td>
<td align="left">Green</td>
<td align="left">\033[1;32m</td>
<td align="left">Light Green</td>
</tr>
<tr>
<td align="left">\033[0;33m</td>
<td align="left">Brown</td>
<td align="left">\033[1;33m</td>
<td align="left">Yellow</td>
</tr>
<tr>
<td align="left">\033[0;34m</td>
<td align="left">Blue</td>
<td align="left">\033[1;34m</td>
<td align="left">Light Blue</td>
</tr>
<tr>
<td align="left">\033[0;35m</td>
<td align="left">Purple</td>
<td align="left">\033[1;35m</td>
<td align="left">Light Purple</td>
</tr>
<tr>
<td align="left">\033[0;36m</td>
<td align="left">Cyan</td>
<td align="left">\033[1;36m</td>
<td align="left">Light Cyan</td>
</tr>
<tr>
<td align="left">\033[0;37m</td>
<td align="left">Light Gray</td>
<td align="left">\033[1;37m</td>
<td align="left">White</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">序列</th>
<th align="left">文本颜色</th>
<th align="left">序列</th>
<th align="left">文本颜色</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\033[0;30m</td>
<td align="left">黑色</td>
<td align="left">\033[1;30m</td>
<td align="left">深灰色</td>
</tr>
<tr>
<td align="left">\033[0;31m</td>
<td align="left">红色</td>
<td align="left">\033[1;31m</td>
<td align="left">浅红色</td>
</tr>
<tr>
<td align="left">\033[0;32m</td>
<td align="left">绿色</td>
<td align="left">\033[1;32m</td>
<td align="left">浅绿色</td>
</tr>
<tr>
<td align="left">\033[0;33m</td>
<td align="left">棕色</td>
<td align="left">\033[1;33m</td>
<td align="left">黄色</td>
</tr>
<tr>
<td align="left">\033[0;34m</td>
<td align="left">蓝色</td>
<td align="left">\033[1;34m</td>
<td align="left">浅蓝色</td>
</tr>
<tr>
<td align="left">\033[0;35m</td>
<td align="left">粉红</td>
<td align="left">\033[1;35m</td>
<td align="left">浅粉色</td>
</tr>
<tr>
<td align="left">\033[0;36m</td>
<td align="left">青色</td>
<td align="left">\033[1;36m</td>
<td align="left">浅青色</td>
</tr>
<tr>
<td align="left">\033[0;37m</td>
<td align="left">浅灰色</td>
<td align="left">\033[1;37m</td>
<td align="left">白色</td>
</tr>
</tbody></table>
<p>Let’s try to make a red prompt. We’ll insert the escape code at the beginning:</p>
<p>让我们试着制作一个红色提示符。我们将在开头加入转义编码：</p>
<pre><code>&lt;me@linuxbox ~&gt;$ PS1=&#39;\[\033[0;31m\]&lt;\u@\h \W&gt;\$&#39;
&lt;me@linuxbox ~&gt;$
</code></pre><p>That works, but notice that all the text that we type after the prompt is also red. To fix this, we will add another escape code to the end of the prompt that tells the terminal emulator to return to the previous color:</p>
<p>我们的提示符生效了，但是注意我们在提示符之后输入的文本也是红色的。为了修改这个问题， 我们将添加另一个转义编码到这个提示符的末尾来告诉终端仿真器恢复到原来的颜色。</p>
<pre><code>&lt;me@linuxbox ~&gt;$ PS1=&#39;\[\033[0;31m\]&lt;\u@\h \W&gt;\$\[\033[0m\]&#39;
&lt;me@linuxbox ~&gt;$
</code></pre><p>That’s better!</p>
<p>这看起来要好些！</p>
<p>It’s also possible to set the text background color using the codes listed below. The background colors do not support the bold attribute.</p>
<p>也有可能要设置文本的背景颜色，使用下面列出的转义编码。这个背景颜色不支持黑体属性。</p>
<table>
<thead>
<tr>
<th>\033[0;40m</th>
<th>Blue</th>
<th>\033[1;44m</th>
<th>Black</th>
</tr>
</thead>
<tbody><tr>
<td>\033[0;41m</td>
<td>Red</td>
<td>\033[1;45m</td>
<td>Purple</td>
</tr>
<tr>
<td>\033[0;42m</td>
<td>Green</td>
<td>\033[1;46m</td>
<td>Cyan</td>
</tr>
<tr>
<td>\033[0;43m</td>
<td>Brown</td>
<td>\033[1;47m</td>
<td>Light Gray</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>\033[0;40m</th>
<th>蓝色</th>
<th>\033[1;44m</th>
<th>黑色</th>
</tr>
</thead>
<tbody><tr>
<td>\033[0;41m</td>
<td>红色</td>
<td>\033[1;45m</td>
<td>紫色</td>
</tr>
<tr>
<td>\033[0;42m</td>
<td>绿色</td>
<td>\033[1;46m</td>
<td>青色</td>
</tr>
<tr>
<td>\033[0;43m</td>
<td>棕色</td>
<td>\033[1;47m</td>
<td>浅灰色</td>
</tr>
</tbody></table>
<p>We can create a prompt with a red background by applying a simple change to the first escape code:</p>
<p>我们可以创建一个带有红色背景的提示符，只是对第一个转义编码做个简单的修改。</p>
<pre><code>&lt;me@linuxbox ~&gt;$ PS1=&#39;\[\033[0;41m\]&lt;\u@\h \W&gt;\$\[\033[0m\] &#39;
&lt;me@linuxbox ~&gt;$
</code></pre><p>Try out the color codes and see what you can create!</p>
<p>试试这些颜色编码，看看你能定制出怎样的提示符！</p>
<hr>
<p>Note: Besides the normal (0) and bold (1) character attributes, text may also be given underscore (4), blinking (5), and inverse (7) attributes as well. In the interests of good taste, many terminal emulators refuse to honor the blinking attribute, however.</p>
<p>注意：除了正常的 (0) 和黑体 (1) 字符属性之外，文本也可以具有下划线 (4)，闪烁 (5)， 和反向 (7) 属性。为了拥有好品味，然而，许多终端仿真器拒绝使用这个闪烁属性。</p>
<hr>
<p>Moving The Cursor</p>
<h3 id="移动光标"><a href="#移动光标" class="headerlink" title="移动光标"></a>移动光标</h3><p>Escape codes can be used to position the cursor. This is commonly used to provide a clock or some other kind of information at a different location on the screen such as an upper corner each time the prompt is drawn. Here is a list of the escape codes that position the cursor:</p>
<p>转义编码也可以用来定位光标。这些编码被普遍地用来，每次当提示符出现的时候，会在屏幕的不同位置 比如说上面一个角落，显示一个时钟或者其它一些信息。这里是一系列用来定位光标的转义编码：</p>
<table>
<thead>
<tr>
<th align="left">Escape Code</th>
<th align="left">Action</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\033[l;cH</td>
<td align="left">Move the cursor to line l and column c.</td>
</tr>
<tr>
<td align="left">\033[nA</td>
<td align="left">Move the cursor up n lines.</td>
</tr>
<tr>
<td align="left">\033[nB</td>
<td align="left">Move the cursor down n lines.</td>
</tr>
<tr>
<td align="left">\033[nC</td>
<td align="left">Move the cursor forward n characters.</td>
</tr>
<tr>
<td align="left">\033[nD</td>
<td align="left">Move the cursor backward n characters.</td>
</tr>
<tr>
<td align="left">\033[2J</td>
<td align="left">Clear the screen and move the cursor to the upper left corner (line 0, column 0).</td>
</tr>
<tr>
<td align="left">\033[K</td>
<td align="left">Clear from the cursor position to the end of the current line.</td>
</tr>
<tr>
<td align="left">\033[s</td>
<td align="left">Store the current cursor position.</td>
</tr>
<tr>
<td align="left">\033[u</td>
<td align="left">Recall the stored cursor position.</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">转义编码</th>
<th align="left">行动</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\033[l;cH</td>
<td align="left">把光标移到第 l 行，第 c 列。</td>
</tr>
<tr>
<td align="left">\033[nA</td>
<td align="left">把光标向上移动 n 行。</td>
</tr>
<tr>
<td align="left">\033[nB</td>
<td align="left">把光标向下移动 n 行。</td>
</tr>
<tr>
<td align="left">\033[nC</td>
<td align="left">把光标向前移动 n 个字符。</td>
</tr>
<tr>
<td align="left">\033[nD</td>
<td align="left">把光标向后移动 n 个字符。</td>
</tr>
<tr>
<td align="left">\033[2J</td>
<td align="left">清空屏幕，把光标移到左上角（第零行，第零列）。</td>
</tr>
<tr>
<td align="left">\033[K</td>
<td align="left">清空从光标位置到当前行末的内容。</td>
</tr>
<tr>
<td align="left">\033[s</td>
<td align="left">存储当前光标位置。</td>
</tr>
<tr>
<td align="left">\033[u</td>
<td align="left">唤醒之前存储的光标位置。</td>
</tr>
</tbody></table>
<p>Using the codes above, we’ll construct a prompt that draws a red bar at the top of the screen containing a clock (rendered in yellow text) each time the prompt is displayed. The code for the prompt is this formidable looking string:</p>
<p>使用上面的编码，我们将构建一个提示符，每次当这个提示符出现的时候，会在屏幕的上方画出一个 包含时钟（由黄色文本渲染）的红色长条。构建好的提示符的编码就是这串看起来令人敬畏的字符串：</p>
<pre><code>PS1=&#39;\[\033[s\033[0;0H\033[0;41m\033[K\033[1;33m\t\033[0m\033[u\]
&lt;\u@\h \W&gt;\$ &#39;
</code></pre><p>Let’s take a look at each part of the string to see what it does:</p>
<p>让我们分别看一下这个字符串的每一部分所表示的意思：</p>
<table>
<thead>
<tr>
<th align="left">Squence</th>
<th align="left">Action</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[</td>
<td align="left">Begins a non-printing character sequence. The real purpose of this is to allow bash to correctly calculate the size of the visible prompt. Without this, command line editing features will improperly position the cursor.</td>
</tr>
<tr>
<td align="left">\033[s</td>
<td align="left">Store the cursor position. This is needed to return to the prompt location after the bar and clock have been drawn at the top of the screen. Be aware that some terminal emulators do not honor this code.</td>
</tr>
<tr>
<td align="left">\033[0;0H</td>
<td align="left">Move the cursor to the upper left corner, which is line zero, column zero.</td>
</tr>
<tr>
<td align="left">\033[0;41m</td>
<td align="left">Set the background color to red.</td>
</tr>
<tr>
<td align="left">\033[K</td>
<td align="left">Clear from the current cursor location (the top left corner) to the end of the line. Since the background color is now red, the line is cleared to that color creating our bar. Note that clearing to the end of the line does not change the cursor position, which remains at the upper left corner.</td>
</tr>
<tr>
<td align="left">\033[1;33m</td>
<td align="left">Set the text color to yellow.</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">Display the current time. While this is a “printing” element, we still include it in the non-printing portion of the prompt, since we don’t want bash to include the clock when calculating the true size of the displayed prompt.</td>
</tr>
<tr>
<td align="left">\033[0m</td>
<td align="left">Turn off color. This affects both the text and background.</td>
</tr>
<tr>
<td align="left">\033[u</td>
<td align="left">Restore the cursor position saved earlier.</td>
</tr>
<tr>
<td align="left">]</td>
<td align="left">End non-printing characters sequence.</td>
</tr>
<tr>
<td align="left">&lt;\u@\h \W&gt;$</td>
<td align="left">Prompt string.</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">序列</th>
<th align="left">行动</th>
</tr>
</thead>
<tbody><tr>
<td align="left">[</td>
<td align="left">开始一个非打印字符序列。其真正的目的是为了让 bash 能够正确地计算提示符的大小。如果没有这个转义字符的话，命令行编辑 功能会弄错光标的位置。</td>
</tr>
<tr>
<td align="left">\033[s</td>
<td align="left">存储光标位置。这个用来使光标能回到原来提示符的位置， 当长条和时钟显示到屏幕上方之后。当心一些 终端仿真器不推崇这个编码。</td>
</tr>
<tr>
<td align="left">\033[0;0H</td>
<td align="left">把光标移到屏幕左上角，也就是第零行，第零列的位置。</td>
</tr>
<tr>
<td align="left">\033[0;41m</td>
<td align="left">把背景设置为红色。</td>
</tr>
<tr>
<td align="left">\033[K</td>
<td align="left">清空从当前光标位置到行末的内容。因为现在 背景颜色是红色，则被清空行背景成为红色，以此来创建长条。注意虽然一直清空到行末， 但是不改变光标位置，它仍然在屏幕左上角。</td>
</tr>
<tr>
<td align="left">\033[1;33m</td>
<td align="left">把文本颜色设为黄色。</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">显示当前时间。虽然这是一个可“打印”的元素，但我们仍把它包含在提示符的非打印部分， 因为我们不想 bash 在计算可见提示符的真正大小时包括这个时钟在内。</td>
</tr>
<tr>
<td align="left">\033[0m</td>
<td align="left">关闭颜色设置。这对文本和背景都起作用。</td>
</tr>
<tr>
<td align="left">\033[u</td>
<td align="left">恢复到之前保存过的光标位置处。</td>
</tr>
<tr>
<td align="left">]</td>
<td align="left">结束非打印字符序列。</td>
</tr>
<tr>
<td align="left">&lt;\u@\h \W&gt;$</td>
<td align="left">提示符字符串。</td>
</tr>
</tbody></table>
<p>Saving The Prompt</p>
<h3 id="保存提示符"><a href="#保存提示符" class="headerlink" title="保存提示符"></a>保存提示符</h3><p>Obviously, we don’t want to be typing that monster all the time, so we’ll want to store our prompt someplace. We can make the prompt permanent by adding it to our .bashrc file. To do so, add these two lines to the file:</p>
<p>显然地，我们不想总是敲入那个怪物，所以我们将要把这个提示符存储在某个地方。通过把它 添加到我们的.bashrc 文件，可以使这个提示符永久存在。为了达到目的，把下面这两行添加到.bashrc 文件中。</p>
<pre><code>PS1=&#39;\[\033[s\033[0;0H\033[0;41m\033[K\033[1;33m\t\033[0m\033[u\]&lt;\u@\h \W&gt;\$ &#39;
export PS1
</code></pre><p>Summing Up</p>
<h3 id="总结归纳"><a href="#总结归纳" class="headerlink" title="总结归纳"></a>总结归纳</h3><p>Believe it or not, there is much more that can be done with prompts involving shell functions and scripts that we haven’t covered here, but this is a good start. Not everyone will care enough to change the prompt, since the default prompt is usually satisfactory. But for those of us who like to tinker, the shell provides the opportunity for many hours of trivial fun.</p>
<p>不管你信不信，如果加上我们在这里没有论及的 shell 函数和脚本，还有许多事情可以由提示符来完成。 但这是一个好的开始。并不是每个人都会花心思来更改提示符，因为通常默认的提示符就很让人满意。 但是对于我们这些喜欢思考的人们来说，shell 却提供了许多制造琐碎乐趣的机会。</p>
<p>Further Reading</p>
<h3 id="拓展阅读"><a href="#拓展阅读" class="headerlink" title="拓展阅读"></a>拓展阅读</h3><ul>
<li><p>The Bash Prompt HOWTO from the Linux Documentation Project provides a pretty complete discussion of what the shell prompt can be made to do. It is available at:</p>
</li>
<li><p>The Bash Prompt HOWTO 来自于 Linux 文档工程，对 shell 提示符的用途进行了相当 完备的论述。可在以下链接中得到：</p>
<p><a href="http://tldp.org/HOWTO/Bash-Prompt-HOWTO/" target="_blank" rel="noopener">http://tldp.org/HOWTO/Bash-Prompt-HOWTO/</a></p>
</li>
<li><p>Wikipedia has a good article on the ANSI Escape Codes:</p>
</li>
<li><p>Wikipedia 上有一篇关于 ANSI Escape Codes 的好文章：</p>
<p><a href="http://en.wikipedia.org/wiki/ANSI_escape_code" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/ANSI_escape_code</a></p>
</li>
</ul>

            </div>
            <hr/>

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            


        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'brA0u8dhiFmWzBQJ5YDMevuw-gzGzoHsz',
        appKey: 'InzuBbqaqOss16gJu1jiKE7F',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'true' === 'true',
        avatar: 'mm',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'just go go'
    });
</script>
    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2019/07/15/第十五章-软件包管理/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/20.jpg" class="responsive-img" alt="第十五章 软件包管理">
                        
                        <span class="card-title">第十五章 软件包管理</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            If we spend any time in the Linux community, we hear many opinions as to which of the many Linux distributions is “best.
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2019-07-15
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/TLCL/" class="post-category" target="_blank">
                                    TLCL
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/07/15/第十三章-vi简介/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/2.jpg" class="responsive-img" alt="第十三章 vi简介">
                        
                        <span class="card-title">第十三章 vi简介</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            There is an old joke about a visitor to New York City asking a passerby for directions to the city’s famous classical mu
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-07-15
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/TLCL/" class="post-category" target="_blank">
                                    TLCL
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由&copy;<a href="https://blinkfox.github.io/" target="_blank">Blinkfox</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 的
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>主题搭建.

            
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">456.8k</span>
            

            
			
                <br>
                
                <span id="busuanzi_container_site_pv">
                    <i class="fa fa-heart-o"></i>
                    本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
                </span>
                
                
                <span id="busuanzi_container_site_uv">
                    <i class="fa fa-users"></i>
                    次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
                </span>
                
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/chenshuoke" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:henu_chenshuoke@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2604689299" class="tooltipped" data-tooltip="QQ联系我: 2604689299" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>



    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>
</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->



    <script src="/libs/others/clicklove.js"></script>


    <script async src="/libs/others/busuanzi.pure.mini.js"></script>


</body>
</html>